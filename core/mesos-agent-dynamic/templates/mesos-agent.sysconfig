# common configuration
MESOS_FIREWALL_RULES=file:///etc/sysconfig/mesos-agent-firewall-rules.json
MESOS_LOG_DIR=/var/log/mesos
MESOS_LOGGING_LEVEL={{or (key "mesos/agent/logging_level") "INFO"}}
{{with key (plugin "keyForNode" "mesos/agents/%s/ip")}}MESOS_IP={{.}}{{else}}# MESOS_IP={{end}}
MESOS_PORT={{or (key (plugin "keyForNode" "mesos/agents/%s/port")) 5051}}

# agent configuration

# required
MESOS_MASTER={{or (key "mesos/zk") "zk://localhost:2181/mesos"}}
{{with key (plugin "keyForNode" "mesos/agents/%s/attributes")}}MESOS_ATTRIBUTES={{.}}{{else}}# MESOS_ATTRIBUTES={{end}}

# optional
MESOS_CONTAINERIZERS={{or (key "mesos/agent/containerizers") "mesos"}}
{{if not (key (plugin "keyForNode" "mesos/agents/%s/principal"))}}# {{end}}MESOS_CREDENTIAL=file:///etc/sysconfig/mesos-credential
MESOS_WORK_DIR=/var/lib/mesos

EXTRA_OPTS="{{key "mesos/agent/opts"}}"
